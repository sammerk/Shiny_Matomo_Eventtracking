[{"name":"app.R","content":"library(shiny)\n\nui <- fluidPage(\n  tags$head(HTML(\"<script>\n  var _paq = window._paq = window._paq || [];\n  \n  _paq.push(['trackPageView']);\n  _paq.push(['enableLinkTracking']);\n  (function() {\n    var u='https://shinyapp.matomo.cloud/';\n    _paq.push(['setTrackerUrl', u+'matomo.php']);\n    _paq.push(['setSiteId', '1']);\n    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n    g.async=true; g.src='https://cdn.matomo.cloud/shinyapp.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);\n  })();\n<\/script>\")),\n  \n  \n  tags$script(HTML(\n    \"$(document).on('shiny:inputchanged', function(event) {\n       if (event.name === 'bins' || event.name === 'col') {\n         _paq.push(['trackEvent', 'input',\n           'updates', event.name, event.value]);\n       }\n     });\"\n  )),\n  \n  # -- Application UI\n  sidebarLayout(\n    sidebarPanel(\n      sliderInput(\"bins\", \"Number of bins:\",\n                  min = 1, max = 50, value = 30),\n      selectInput(\"col\", \"Barplot Color\",\n                  c(\"blue\", \"grey\", \"purple\", \"orange\"), selected = \"grey\")\n    ),\n    \n    mainPanel(\n      h1(textOutput(\"user\")),\n      plotOutput(\"distPlot\")\n    )\n  )\n)\n\nserver <- function(input, output, session) {\n  \n  output$user <- renderText({\n    paste0(\"Hello \", session$user,\n           \"! This app is tracked by Matomo\")\n  })\n  \n  output$distPlot <- renderPlot({\n    x <- faithful[, 2]\n    bins <- seq(min(x), max(x), length.out = input$bins + 1)\n    hist(x, breaks = bins, col = input$col, border = 'white')\n    \n  })\n  \n}\n\nshinyApp(ui = ui, server = server)","type":"text"}]
